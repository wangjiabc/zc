<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta content="" name="description"/>
    <meta content="webthemez" name="author"/>
    <title>中财财务</title>
    <script src="assets/js/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet"
          href="assets/bootstrap-table/bootstrap-table.css">
    <link rel="stylesheet"
          href="assets/bootstrap-table/bootstrap-editable.css">
    <script src="assets/bootstrap-table/jquery.min.js"></script>

    <script src="assets/bootstrap-table/bootstrap-table.js"></script>
    <script src="assets/bootstrap-table/bootstrap-table-export.js"></script>
    <script src="assets/bootstrap-table/tableExport.js"></script>
    <script src="assets/bootstrap-table/bootstrap-table-editable.js"></script>
    <script src="js/bootstrap-table-zh-CN.min.js"></script>

    <!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet"/>
    <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet"/>
    <link href="assets/css/checkbox3.min.css" rel="stylesheet">
    <!-- Morris Chart Styles-->

    <!-- Custom Styles-->
    <link href="assets/css/custom-styles1.css" rel="stylesheet"/>
    <!-- Google Fonts-->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="assets/js/Lightweight-Chart/cssCharts.css">

</head>

<body>
<div id="wrapper">
    <nav class="navbar navbar-default top-navbar" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="Main.html"><strong><i class="icon fa fa-plane"></i>中财财务</strong></a>
        </div>

        <ul class="nav navbar-top-links navbar-right">
            <!-- /.dropdown -->
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
                    <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li><a href="/zc/user/logout.do"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                    </li>
                </ul>
                <!-- /.dropdown-user -->
            </li>
            <!-- /.dropdown -->
        </ul>
    </nav>
    <!--/. NAV TOP  -->
    <nav class="navbar-default navbar-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav" id="main-menu">
                <li>
                    <a href="#"><i class="fa fa-sitemap"></i> 客户信息<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="Main.html">客户列表信息</a>
                        </li>
                        <li>
                            <a href="AddInfo.html">添加客户信息</a>
                        </li>
                        <li id="userhide">
                            <a href="user.html">员工管理信息</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
    <!-- /. NAV SIDE  -->
    <div id="page-wrapper">
        <!-- /. PAGE WRAPPER  -->
        <div class="header">
            <h1 class="page-header">查询客户信息</h1>
        </div>
        <div id="page-inner">
            <div class="row">
                <div class="col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="card-title">
                                <div class="title">查询</div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <form class="form-horizontal" id="userinfo-form">
                                <div class="row">
                                    <div class="form-group col-sm-3">
                                        <label class="col-sm-3 control-label">姓名</label>
                                        <div class="col-sm-9">
                                            <input type="text" class="form-control" name="username"
                                                   id="username" placeholder="填入姓名">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-3">
                                        <label class="col-sm-3 control-label">身份证</label>
                                        <div class="col-sm-9">
                                            <input type="text" class="form-control" name="useridCard" id="useridCard"
                                                   placeholder="填入身份证号">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-3">
                                        <label class="col-sm-3 control-label">手机号</label>
                                        <div class="col-sm-9">
                                            <input type="text" class="form-control" name="userPhoneNum"
                                                   id="userPhoneNum"
                                                   placeholder="填入手机号">
                                        </div>
                                    </div>

                                    <div class="form-group col-sm-3">
                                        <button type="button" id="queryUser" class="btn btn-success">查询</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <!-- 警告对话框 -->
            <div class="modal fade" id="alertdialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header blue">
                            <div>
                                <strong id="alertchar" style="font-size:20px"></strong>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                <button type="button" id="commitFoodDataButton" class="btn btn-primary">确定</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Bootstrap Js -->
            <script src="assets/js/bootstrap.min.js"></script>
            <!-- Metis Menu Js -->
            <script src="assets/js/jquery.metisMenu.js"></script>
            <!-- Custom Js -->
            <script src="assets/js/custom-scripts.js"></script>
            <script src="assets/js/select2.full.min.js"></script>
            <!-- DATA TABLE SCRIPTS -->
            <script src="assets/js/dataTables/jquery.dataTables.js"></script>
            <script src="assets/js/dataTables/dataTables.bootstrap.js"></script>
            <script src="assets/js/form-validator/form-validator.js"></script>

            <script type="text/javascript">
                $(function () {
                    $('#userinfo-form').bootstrapValidator({
                        message: 'This value is not valid',
                        feedbackIcons: {
                            valid: 'glyphicon glyphicon-ok',
                            invalid: 'glyphicon glyphicon-remove',
                            validating: 'glyphicon glyphicon-refresh'
                        },
                        fields: {
                            username: {
                                message: '验证失败',
                                validators: {
                                    notEmpty: {
                                        message: '请填入信息'
                                    }
                                }
                            },
                            useridCard: {
                                message: '验证失败',
                                validators: {
                                    notEmpty: {
                                        message: '请填入信息'
                                    }
                                }
                            },
                            userPhoneNum: {
                                message: '验证失败',
                                 validators: {
                                    notEmpty: {
                                        message: '请填入信息'
                                    },
                                    numeric: {
                                       message: '请输入数字'
                                    },
                                  stringLength: {
                                      min: 11,
                                      max: 11,
                                      message: '请输入11位手机号码'
                                  },
                                  regexp: {
                                      regexp: /^1[3|5|8]{1}[0-9]{9}$/,
                                      message: '请输入正确的手机号码'
                                  }
                                 }
                             },
                        }
                    })
                })

                $('#queryUser').click(function () {
                    $('#userinfo-form').bootstrapValidator('validate');
                    if ($('#userinfo-form').bootstrapValidator('validate') == false) {
                        return;
                    }

                    var username = $("#username").val().toString();
                    var userPhoneNum = $("#userPhoneNum").val().toString();
                    var useridCard = $("#useridCard").val().toString();
                    
                    $.ajax({
                        type:"get",
                        url:"clientinfo/getQuery.do",
                        data:{
							username:username,
                        	userPhoneNum:userPhoneNum,
                        	useridCard:useridCard
                         },
                        success:function(data){
                        	var obj = $.parseJSON(data);
                        	var state=obj.state;
                        	if(state=="false"){
                        		alert("输入错误");
                        	}else{
                        		var id=obj.id;
                        		window.location.href = "UserDetail.html?id="+id;
                        	}
                        }
                    });  
                });

            </script>
        </div>
    </div>
</div>
</body>
</html>